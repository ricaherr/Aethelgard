# Aethelgard: Framework de Inteligencia Financiera Agnóstico

## Identidad del Proyecto
- **Nombre**: Aethelgard
- **Misión**: Cerebro centralizado para trading algorítmico multi-plataforma.
- **Arquitectura**: Hub-and-Spoke (Python Core <-> Conectores Externos).

## Reglas de Desarrollo Críticas
1. **Agnosticismo de Plataforma**: El código en `core_brain` nunca debe depender de librerías específicas de brokers. Comunicación vía JSON por WebSockets.
2. **Inyección de Dependencias**: Obligatoria para todas las clases de lógica. Inyectar desde `MainOrchestrator` o tests.
3. **Single Source of Truth (SSOT)**: Configuración y credenciales en la BASE DE DATOS.
4. **TDD & Validación**: Test primero. Ejecutar `scripts/validate_all.py` antes de completar cualquier tarea.
5. **Documentación**: Centralizada en `AETHELGARD_MANIFESTO.md`.

## Regla de Autonomía y Evolución (Core Rule)
1. **Feedback Loop**: Contrastar cada decisión con el resultado a 5, 10 y 20 velas.
2. **Auto-Tune**: Re-ejecutar tests de sensibilidad sobre `data_vault` de forma autónoma.
3. **Detección de Drift**: Entrar en modo 'Seguridad' si las predicciones fallan sistemáticamente.

## Preferencias de Código
- **Python**: Estilo PEP 8, asíncrono (asyncio/fastapi), Type Hints y Pydantic.
- **UI**: React + TypeScript + Vite.
- **Idioma**: Chat en Español, Código/Comentarios en Inglés.

## Contexto del Mercado
- Priorizar la detección de "Régimen de Mercado" antes de validar señales técnicas.
- Validar jerarquía de SMA (Precio > SMA20 > SMA200 para BUY).
- 3 pérdidas consecutivas activan el modo **Lockdown**.